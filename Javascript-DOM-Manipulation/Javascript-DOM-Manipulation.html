<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>List Items Sample</title>
</head>
<body id="body">

<h1>List Items Sample</h1>

<h2>Order List: List Items</h2>
<ol id="order-list" class="list-items">
    <li id="item1" class="item" data-order="1"><h3>Item 1</h3></li>
    <li id="item2" class="item" data-order="2"><h3>Item 2</h3></li>
    <li id="item3" class="item" data-order="3"><h3>Item 3</h3></li>
    <li id="item4" class="item" data-order="4"><h3>Item 4</h3></li>
</ol>

<h2>Unorder List: List Items</h2>
<ul id="unorder-list" class="list-items">
    <li id="item5" class="item" data-order="1"><h3>Item 5</h3></li>
    <li id="item6" class="item" data-order="2"><h3>Item 6</h3></li>
    <li id="item7" class="item" data-order="3"><h3>Item 7</h3></li>
    <li id="item8" class="item" data-order="4"><h3>Item 8</h3></li>
</ul>

<script>
document.addEventListener('DOMContentLoaded', function() {
    function extractListInfoToListArray(elementId) {
        const element = document.getElementById(elementId);
        if (!element) {
            console.error("Element not found");
            return [];
        }

        const listArray = [];

        // Check if it's an ordered or unordered list
        const isOrdered = element.tagName.toLowerCase() === 'body';

        // Iterate through each list item
        const listItems = element.querySelectorAll('*');
        listItems.forEach(item => {
            const listItemInfo = {};

            // Clone the list item to preserve event listeners
            const clonedItem = item.cloneNode(true);

            // Extract id, class, and data attributes of the list item
            listItemInfo.id = clonedItem.id;
            listItemInfo.class = clonedItem.className;
            listItemInfo.attributes = {};
            Array.from(clonedItem.attributes).forEach(attribute => {
                listItemInfo.attributes[attribute.name] = attribute.value;
            });

            // If it's an ordered list, also extract the data-order attribute
            if (isOrdered) {
                listItemInfo.order = clonedItem.dataset.order;
            }

            // Extract inner text and HTML content
            listItemInfo.innerText = clonedItem.innerText;
            listItemInfo.innerHTML = clonedItem.innerHTML;

            // Extract event listeners
            listItemInfo.eventListeners = {};

            // Iterate through all possible event listeners
            const eventTypes = ['click', 'mouseover', 'load', 'submit'];
            eventTypes.forEach(eventType => {
                // Check if the item has an event listener for the current event type
                if (typeof item['on' + eventType] === 'function') {
                    // Extract and store the event listener function as a string
                    listItemInfo.eventListeners[eventType] = item['on' + eventType].toString();
                } else {
                    // If no event listener found, set it to null
                    listItemInfo.eventListeners[eventType] = null;
                }
            });

            listArray.push(listItemInfo);
        });
        
        return listArray;
    }



    // Example usage
    const orderedListInfo = extractListInfoToListArray('body');
    console.log("Ordered List Info:", orderedListInfo);





});


lets build a webconponent that fetch a url and target an html element and output all the data about its content in a jason format...use fetch api...



</script>

</body>
</html>
