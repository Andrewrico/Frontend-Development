<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>List Items Sample</title>
</head>
<body id="body">

<h1>List Items Sample</h1>

<h2>Order List: List Items</h2>

<button>Click</button>

<button onclick="alert('hello')">Click me</button>




<script src="/index.js"></script>

<html5-debugger data-element="body"></html5-debugger>

<script>
const elementsArray = [];

customElements.define('html5-debugger', class extends HTMLElement {
    connectedCallback() {
        const targetElementId = this.getAttribute('data-element');

        if (!targetElementId) {
            console.error("Target element ID is required.");
            return;
        }

        const targetElement = document.getElementById(targetElementId);

        if (!targetElement) {
            console.error("Target element not found in the current page.");
            return;
        }
        const currentDate = new Date();
        const elementInfo = this.extractElementInfo(targetElement);
        elementsArray.push(elementInfo);
        // Log the element info in a subtab
        console.groupCollapsed("AR Debugger");
        console.log(` AR Debugger | ${currentDate}`)
        console.log("Array:", elementsArray); // Log the array after pushing element info
        console.log("Data:", JSON.stringify(elementInfo, null, 2));
        console.groupEnd();

    }

    extractElementInfo(element) {
        const elementInfo = {
            tagName: element.tagName.toLowerCase(),
            id: element.id,
            class: element.className,
            attributes: {},
            events: {},
            innerText: element.innerText.trim(),
            innerHTML: element.innerHTML.trim()
        };

        // Extract attributes
        Array.from(element.attributes).forEach(attribute => {
            elementInfo.attributes[attribute.name] = attribute.value;
        });

        // Extract events
        ['click', 'mouseover', 'load', 'submit'].forEach(eventType => {
            if (typeof element['on' + eventType] === 'function') {
                elementInfo.events[eventType] = element['on' + eventType].toString();
            }
        });

        // Extract ARIA labels
        const ariaLabels = element.querySelectorAll('[aria-label]');
        elementInfo.ariaLabels = Array.from(ariaLabels).map(label => label.getAttribute('aria-label'));

        // Recursively extract child elements
        elementInfo.children = Array.from(element.children).map(child => this.extractElementInfo(child));

        return elementInfo;
    }
});
</script>

</body>
</html>
